{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ederivc\\\\Documents\\\\PuppyVeterinarySystem\\\\frontend\\\\src\\\\pages\\\\CartPage\\\\CartPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { IMG_URL } from \"../../api/api\"; // import { IMG_URL } from \"../../api/api\";\n\nimport useAuth from \"../../auth/useAuth\";\nimport { CartContext } from \"../../layouts/Layout\";\nimport styles from \"./CartPage.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartPage = () => {\n  _s();\n\n  var _user$first_name, _user$last_name, _user$phone, _user$email;\n\n  const {\n    cart,\n    setCart,\n    addedProduct,\n    setAddedProduct,\n    cartTotal,\n    cartRef,\n    setCartTotal,\n    needsChange,\n    setNeedsChange,\n    checker\n  } = useContext(CartContext);\n  const {\n    user\n  } = useAuth();\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [userForm, setUserForm] = useState({\n    nombre: (_user$first_name = user === null || user === void 0 ? void 0 : user.first_name) !== null && _user$first_name !== void 0 ? _user$first_name : \"\",\n    apellido: (_user$last_name = user === null || user === void 0 ? void 0 : user.last_name) !== null && _user$last_name !== void 0 ? _user$last_name : \"\",\n    telefono: (_user$phone = user === null || user === void 0 ? void 0 : user.phone) !== null && _user$phone !== void 0 ? _user$phone : \"\",\n    email: (_user$email = user === null || user === void 0 ? void 0 : user.email) !== null && _user$email !== void 0 ? _user$email : \"\",\n    direccion: \"\",\n    codigoPostal: \"\"\n  });\n\n  const handleChange = e => {\n    setUserForm({ ...userForm,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const arrayMove = (arr, fromIndex, toIndex) => {\n    const element = arr[fromIndex];\n    arr.splice(fromIndex, 1);\n    arr.splice(toIndex, 0, element);\n  };\n\n  const addProduct = (product, oldIndex) => {\n    setHasLoaded(false);\n    const filteredProduct = cartRef.current.filter(item => item.product_id === product.product_id);\n    filteredProduct[0].totalNum += 1;\n    const filteredProducts = cartRef.current.filter(item => item.product_id !== product.product_id);\n    Array.prototype.push.apply(filteredProducts, filteredProduct);\n    const newIndex = filteredProducts.length - 1;\n    arrayMove(filteredProducts, newIndex, oldIndex);\n    cartRef.current = filteredProducts;\n    setAddedProduct(filteredProducts);\n    setCart(cart + 1);\n    setCartTotal(cartTotal + product.price);\n    setHasLoaded(true);\n  };\n\n  useEffect(() => {\n    addedProduct.forEach(value => {\n      const productId = value.product_id;\n      let totalNum = 0;\n      addedProduct.forEach(actualProduct => {\n        if (actualProduct.product_id === productId) {\n          console.log(\"here\");\n\n          if (actualProduct.hasOwnProperty(\"totalNum\")) {\n            // needsChange ? (totalNum += 1) : (totalNum = actualProduct.totalNum);\n            if (chekcer[0] && checker[1] === actualProduct.product_id) {\n              totalNum = actualProduct.totalNum + 1;\n            } else {\n              totalNum = actualProduct.totalNum;\n            }\n          } else {\n            totalNum += 1;\n          }\n        }\n      });\n      value.totalNum = totalNum;\n    });\n    setNeedsChange(false);\n    const unique = [...new Map(addedProduct.map(item => [item[\"product_id\"], item])).values()];\n    cartRef.current = unique;\n    setHasLoaded(true);\n  }, [addedProduct, cartRef]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-5 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"d-block mx-auto mb-5\",\n        src: \"https://image.flaticon.com/icons/png/512/3594/3594363.png\",\n        alt: \"\",\n        width: \"72\",\n        height: \"72\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Carrito de Compras\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"lead\",\n        children: \"Para proceder con su compra verifique sus datos y complete los campos vacios. Recibir\\xE1 un correo cuando su pedido haya sido aprobado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 order-md-2 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"d-flex justify-content-between align-items-center mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-muted\",\n            children: \"Carrito\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge-secondary badge-pill\",\n            children: cart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group mb-3\",\n          children: [hasLoaded ? cartRef.current.map(product => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-group-item d-flex justify-content-between align-items-center flex-wrap lh-condensed\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.productCont,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.productInfo,\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    className: \"my-0\",\n                    children: product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: product.descripcion\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.imgCont,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `${IMG_URL}${product.img}`,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-column\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: [\"$\", product.totalNum * product.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Cantidad: \", product.totalNum]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.buttons,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-success\",\n                    onClick: () => addProduct(product, cartRef.current.indexOf(product)),\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger\",\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 23\n              }, this)]\n            }, product.product_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, this);\n          }) : null, /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: `$${cartTotal}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"card p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              placeholder: \"Promo code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-append\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-secondary\",\n                children: \"Redeem\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 order-md-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-3\",\n          children: \"Datos del Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"needs-validation\",\n          novalidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"nombre\",\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"nombre\",\n                name: \"nombre\",\n                placeholder: \"\",\n                value: userForm.nombre,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback\",\n                children: \"Valid first name is required.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"apellido\",\n                children: \"Apellidos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"apellido\",\n                name: \"apellido\",\n                placeholder: \"\",\n                value: userForm.apellido,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback\",\n                children: \"Valid last name is required.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"telefono\",\n              children: \"Tel\\xE9fono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group-prepend\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                id: \"telefono\",\n                name: \"telefono\",\n                placeholder: \"\",\n                value: userForm.telefono,\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback\",\n                style: {\n                  width: \"100%\"\n                },\n                children: \"Your username is required.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"email\",\n              children: [\"Email \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-muted\",\n                children: \"(Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              id: \"email\",\n              name: \"email\",\n              placeholder: \"you@example.com\",\n              value: userForm.email,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: \"Please enter a valid email address for shipping updates.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"direccion\",\n              children: \"Direcci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"direccion\",\n              name: \"direccion\",\n              placeholder: \"1234 Main St\",\n              required: true,\n              value: userForm.direccion,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: \"Please enter your shipping address.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"codigoPostal\",\n              children: \"C\\xF3digo Postal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              id: \"codigoPostal\",\n              name: \"codigoPostal\",\n              placeholder: \"C\\xF3digo Postal\",\n              value: userForm.codigoPostal,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            class: \"mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-primary btn-lg btn-block\",\n            type: \"submit\",\n            children: \"Realizar Pedido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartPage, \"BNVb5fG2PDDrblqkhlgU6aHJDKs=\", false, function () {\n  return [useAuth];\n});\n\n_c = CartPage;\nexport default CartPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"sources":["C:/Users/ederivc/Documents/PuppyVeterinarySystem/frontend/src/pages/CartPage/CartPage.jsx"],"names":["React","useContext","useEffect","useState","IMG_URL","useAuth","CartContext","styles","CartPage","cart","setCart","addedProduct","setAddedProduct","cartTotal","cartRef","setCartTotal","needsChange","setNeedsChange","checker","user","hasLoaded","setHasLoaded","userForm","setUserForm","nombre","first_name","apellido","last_name","telefono","phone","email","direccion","codigoPostal","handleChange","e","target","name","value","arrayMove","arr","fromIndex","toIndex","element","splice","addProduct","product","oldIndex","filteredProduct","current","filter","item","product_id","totalNum","filteredProducts","Array","prototype","push","apply","newIndex","length","price","forEach","productId","actualProduct","console","log","hasOwnProperty","chekcer","unique","Map","map","values","productCont","productInfo","descripcion","imgCont","img","buttons","indexOf","width"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { IMG_URL } from \"../../api/api\";\r\n// import { IMG_URL } from \"../../api/api\";\r\nimport useAuth from \"../../auth/useAuth\";\r\nimport { CartContext } from \"../../layouts/Layout\";\r\nimport styles from \"./CartPage.module.css\";\r\n\r\nconst CartPage = () => {\r\n  const {\r\n    cart,\r\n    setCart,\r\n    addedProduct,\r\n    setAddedProduct,\r\n    cartTotal,\r\n    cartRef,\r\n    setCartTotal,\r\n    needsChange,\r\n    setNeedsChange,\r\n    checker,\r\n  } = useContext(CartContext);\r\n\r\n  const { user } = useAuth();\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [userForm, setUserForm] = useState({\r\n    nombre: user?.first_name ?? \"\",\r\n    apellido: user?.last_name ?? \"\",\r\n    telefono: user?.phone ?? \"\",\r\n    email: user?.email ?? \"\",\r\n    direccion: \"\",\r\n    codigoPostal: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setUserForm({\r\n      ...userForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const arrayMove = (arr, fromIndex, toIndex) => {\r\n    const element = arr[fromIndex];\r\n    arr.splice(fromIndex, 1);\r\n    arr.splice(toIndex, 0, element);\r\n  };\r\n\r\n  const addProduct = (product, oldIndex) => {\r\n    setHasLoaded(false);\r\n    const filteredProduct = cartRef.current.filter(\r\n      (item) => item.product_id === product.product_id\r\n    );\r\n\r\n    filteredProduct[0].totalNum += 1;\r\n\r\n    const filteredProducts = cartRef.current.filter(\r\n      (item) => item.product_id !== product.product_id\r\n    );\r\n\r\n    Array.prototype.push.apply(filteredProducts, filteredProduct);\r\n\r\n    const newIndex = filteredProducts.length - 1;\r\n\r\n    arrayMove(filteredProducts, newIndex, oldIndex);\r\n\r\n    cartRef.current = filteredProducts;\r\n    setAddedProduct(filteredProducts);\r\n    setCart(cart + 1);\r\n    setCartTotal(cartTotal + product.price);\r\n\r\n    setHasLoaded(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    addedProduct.forEach((value) => {\r\n      const productId = value.product_id;\r\n      let totalNum = 0;\r\n\r\n      addedProduct.forEach((actualProduct) => {\r\n        if (actualProduct.product_id === productId) {\r\n          console.log(\"here\");\r\n          if (actualProduct.hasOwnProperty(\"totalNum\")) {\r\n            // needsChange ? (totalNum += 1) : (totalNum = actualProduct.totalNum);\r\n            if (chekcer[0] && checker[1] === actualProduct.product_id) {\r\n              totalNum = actualProduct.totalNum + 1;\r\n            } else {\r\n              totalNum = actualProduct.totalNum;\r\n            }\r\n          } else {\r\n            totalNum += 1;\r\n          }\r\n        }\r\n      });\r\n      value.totalNum = totalNum;\r\n    });\r\n\r\n    setNeedsChange(false);\r\n\r\n    const unique = [\r\n      ...new Map(\r\n        addedProduct.map((item) => [item[\"product_id\"], item])\r\n      ).values(),\r\n    ];\r\n\r\n    cartRef.current = unique;\r\n\r\n    setHasLoaded(true);\r\n  }, [addedProduct, cartRef]);\r\n\r\n  return (\r\n    <div className=\"container mb-4\">\r\n      <div className=\"py-5 text-center\">\r\n        <img\r\n          className=\"d-block mx-auto mb-5\"\r\n          src=\"https://image.flaticon.com/icons/png/512/3594/3594363.png\"\r\n          alt=\"\"\r\n          width=\"72\"\r\n          height=\"72\"\r\n        />\r\n        <h2>Carrito de Compras</h2>\r\n        <p className=\"lead\">\r\n          Para proceder con su compra verifique sus datos y complete los campos\r\n          vacios. Recibirá un correo cuando su pedido haya sido aprobado.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4 order-md-2 mb-4\">\r\n          <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <span className=\"text-muted\">Carrito</span>\r\n            <span className=\"badge badge-secondary badge-pill\">{cart}</span>\r\n          </h4>\r\n          <ul className=\"list-group mb-3\">\r\n            {hasLoaded\r\n              ? cartRef.current.map((product) => {\r\n                  return (\r\n                    <li\r\n                      key={product.product_id}\r\n                      className=\"list-group-item d-flex justify-content-between align-items-center flex-wrap lh-condensed\"\r\n                    >\r\n                      <div className={styles.productCont}>\r\n                        <div className={styles.productInfo}>\r\n                          <h6 className=\"my-0\">{product.name}</h6>\r\n                          <small className=\"text-muted\">\r\n                            {product.descripcion}\r\n                          </small>\r\n                        </div>\r\n                        <div className={styles.imgCont}>\r\n                          <img src={`${IMG_URL}${product.img}`} alt=\"\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"d-flex flex-column\">\r\n                        <span className=\"text-muted\">\r\n                          ${product.totalNum * product.price}\r\n                        </span>\r\n                        <span>Cantidad: {product.totalNum}</span>\r\n                        <div className={styles.buttons}>\r\n                          <button\r\n                            className=\"btn btn-success\"\r\n                            onClick={() =>\r\n                              addProduct(\r\n                                product,\r\n                                cartRef.current.indexOf(product)\r\n                              )\r\n                            }\r\n                          >\r\n                            +\r\n                          </button>\r\n                          <button className=\"btn btn-danger\">-</button>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })\r\n              : null}\r\n            {/* <li class=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n              <div>\r\n                <h6 class=\"my-0\">Product name</h6>\r\n                <small class=\"text-muted\">Brief description</small>\r\n              </div>\r\n              <span class=\"text-muted\">$12</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n              <div>\r\n                <h6 class=\"my-0\">Second product</h6>\r\n                <small class=\"text-muted\">Brief description</small>\r\n              </div>\r\n              <span class=\"text-muted\">$8</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n              <div>\r\n                <h6 class=\"my-0\">Third item</h6>\r\n                <small class=\"text-muted\">Brief description</small>\r\n              </div>\r\n              <span class=\"text-muted\">$5</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between bg-light\">\r\n              <div class=\"text-success\">\r\n                <h6 class=\"my-0\">Promo code</h6>\r\n                <small>EXAMPLECODE</small>\r\n              </div>\r\n              <span class=\"text-success\">-$5</span>\r\n            </li> */}\r\n            <li className=\"list-group-item d-flex justify-content-between\">\r\n              <span>Total</span>\r\n              <strong>{`$${cartTotal}`}</strong>\r\n            </li>\r\n          </ul>\r\n\r\n          <form className=\"card p-2\">\r\n            <div className=\"input-group\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                placeholder=\"Promo code\"\r\n              />\r\n              <div className=\"input-group-append\">\r\n                <button type=\"submit\" className=\"btn btn-secondary\">\r\n                  Redeem\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"col-md-8 order-md-1\">\r\n          <h4 className=\"mb-3\">Datos del Usuario</h4>\r\n          <form className=\"needs-validation\" novalidate>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 mb-3\">\r\n                <label for=\"nombre\">Nombre</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"nombre\"\r\n                  name=\"nombre\"\r\n                  placeholder=\"\"\r\n                  value={userForm.nombre}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                <div className=\"invalid-feedback\">\r\n                  Valid first name is required.\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6 mb-3\">\r\n                <label for=\"apellido\">Apellidos</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"apellido\"\r\n                  name=\"apellido\"\r\n                  placeholder=\"\"\r\n                  value={userForm.apellido}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                <div className=\"invalid-feedback\">\r\n                  Valid last name is required.\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label for=\"telefono\">Teléfono</label>\r\n              <div className=\"input-group\">\r\n                <div className=\"input-group-prepend\"></div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"telefono\"\r\n                  name=\"telefono\"\r\n                  placeholder=\"\"\r\n                  value={userForm.telefono}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n                <div className=\"invalid-feedback\" style={{ width: \"100%\" }}>\r\n                  Your username is required.\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label for=\"email\">\r\n                Email <span className=\"text-muted\">(Optional)</span>\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"you@example.com\"\r\n                value={userForm.email}\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"invalid-feedback\">\r\n                Please enter a valid email address for shipping updates.\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label for=\"direccion\">Dirección</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"direccion\"\r\n                name=\"direccion\"\r\n                placeholder=\"1234 Main St\"\r\n                required\r\n                value={userForm.direccion}\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"invalid-feedback\">\r\n                Please enter your shipping address.\r\n              </div>\r\n            </div>\r\n\r\n            {/* <div class=\"mb-3\">\r\n              <label for=\"address2\">\r\n                Address 2 <span class=\"text-muted\">(Optional)</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"address2\"\r\n                placeholder=\"Apartment or suite\"\r\n                value={userForm.direccion}\r\n              />\r\n            </div> */}\r\n            <div class=\"mb-3\">\r\n              <label for=\"codigoPostal\">Código Postal</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"codigoPostal\"\r\n                name=\"codigoPostal\"\r\n                placeholder=\"Código Postal\"\r\n                value={userForm.codigoPostal}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            {/* <div class=\"row\">\r\n              <div class=\"col-md-5 mb-3\">\r\n                <label for=\"country\">Country</label>\r\n                <select\r\n                  class=\"custom-select d-block w-100\"\r\n                  id=\"country\"\r\n                  required\r\n                >\r\n                  <option value=\"\">Choose...</option>\r\n                  <option>United States</option>\r\n                </select>\r\n                <div class=\"invalid-feedback\">\r\n                  Please select a valid country.\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-4 mb-3\">\r\n                <label for=\"state\">State</label>\r\n                <select class=\"custom-select d-block w-100\" id=\"state\" required>\r\n                  <option value=\"\">Choose...</option>\r\n                  <option>California</option>\r\n                </select>\r\n                <div class=\"invalid-feedback\">\r\n                  Please provide a valid state.\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-3 mb-3\">\r\n                <label for=\"zip\">Zip</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"zip\"\r\n                  placeholder=\"\"\r\n                  required\r\n                />\r\n                <div class=\"invalid-feedback\">Zip code required.</div>\r\n              </div>\r\n            </div> */}\r\n            {/* </div> */}\r\n            {/* <hr class=\"mb-4\" />\r\n            <div class=\"custom-control custom-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                class=\"custom-control-input\"\r\n                id=\"same-address\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"same-address\">\r\n                Shipping address is the same as my billing address\r\n              </label>\r\n            </div>\r\n            <div class=\"custom-control custom-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                class=\"custom-control-input\"\r\n                id=\"save-info\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\"save-info\">\r\n                Save this information for next time\r\n              </label>\r\n            </div>\r\n            <hr class=\"mb-4\" />\r\n\r\n            <h4 class=\"mb-3\">Payment</h4> */}\r\n\r\n            {/* <div class=\"d-block my-3\">\r\n              <div class=\"custom-control custom-radio\">\r\n                <input\r\n                  id=\"credit\"\r\n                  name=\"paymentMethod\"\r\n                  type=\"radio\"\r\n                  class=\"custom-control-input\"\r\n                  checked\r\n                  required\r\n                />\r\n                <label class=\"custom-control-label\" for=\"credit\">\r\n                  Credit card\r\n                </label>\r\n              </div>\r\n              <div class=\"custom-control custom-radio\">\r\n                <input\r\n                  id=\"debit\"\r\n                  name=\"paymentMethod\"\r\n                  type=\"radio\"\r\n                  class=\"custom-control-input\"\r\n                  required\r\n                />\r\n                <label class=\"custom-control-label\" for=\"debit\">\r\n                  Debit card\r\n                </label>\r\n              </div>\r\n              <div class=\"custom-control custom-radio\">\r\n                <input\r\n                  id=\"paypal\"\r\n                  name=\"paymentMethod\"\r\n                  type=\"radio\"\r\n                  class=\"custom-control-input\"\r\n                  required\r\n                />\r\n                <label class=\"custom-control-label\" for=\"paypal\">\r\n                  PayPal\r\n                </label>\r\n              </div>\r\n            </div> */}\r\n            {/* <div class=\"row\">\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"cc-name\">Name on card</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"cc-name\"\r\n                  placeholder=\"\"\r\n                  required\r\n                />\r\n                <small class=\"text-muted\">Full name as displayed on card</small>\r\n                <div class=\"invalid-feedback\">Name on card is required</div>\r\n              </div>\r\n              <div class=\"col-md-6 mb-3\">\r\n                <label for=\"cc-number\">Credit card number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"cc-number\"\r\n                  placeholder=\"\"\r\n                  required\r\n                />\r\n                <div class=\"invalid-feedback\">\r\n                  Credit card number is required\r\n                </div>\r\n              </div>\r\n            </div> */}\r\n            {/* <div class=\"row\">\r\n              <div class=\"col-md-3 mb-3\">\r\n                <label for=\"cc-expiration\">Expiration</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"cc-expiration\"\r\n                  placeholder=\"\"\r\n                  required\r\n                />\r\n                <div class=\"invalid-feedback\">Expiration date required</div>\r\n              </div>\r\n              <div class=\"col-md-3 mb-3\">\r\n                <label for=\"cc-cvv\">CVV</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"cc-cvv\"\r\n                  placeholder=\"\"\r\n                  required\r\n                />\r\n                <div class=\"invalid-feedback\">Security code required</div>\r\n              </div>\r\n            </div> */}\r\n            <hr class=\"mb-4\" />\r\n            <button class=\"btn btn-primary btn-lg btn-block\" type=\"submit\">\r\n              Realizar Pedido\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"]},"metadata":{},"sourceType":"module"}