{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ederivc\\\\Documents\\\\PuppyVeterinarySystem\\\\frontend\\\\src\\\\pages\\\\AccountPage\\\\Admin\\\\Gestion\\\\Citas\\\\CitasUtilities.jsx\",\n    _s = $RefreshSig$();\n\nimport { APICitas, APIUsers } from \"../../../../../api/api\";\nimport { Alert, Button, Form, Modal } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModalApprovedCita = ({\n  show,\n  handleClose,\n  selectedCita,\n  setAlert,\n  setAlertMsg,\n  setAlertVariant\n}) => {\n  const handleAlert = (msg, variant) => {\n    setAlert(true);\n    setAlertMsg(msg);\n    setAlertVariant(variant);\n    setTimeout(() => {\n      setAlert(false);\n      setAlertMsg(\"\");\n      setAlertVariant(\"\");\n    }, 3000);\n    handleClose();\n  };\n\n  const checkResponse = res => {\n    console.log(res);\n\n    if (res[1].status === 400) {\n      handleAlert(res[0][\"message\"], \"danger\");\n    } else {\n      handleAlert(\"Notificación al usuario hecha y cita aprovada.\", \"success\");\n    }\n  };\n\n  const handleDelete = async () => {\n    const res = await APICitas.ApproveCita({\n      cita: selectedCita\n    });\n    checkResponse(res);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Aprovar Cita\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: `¿Está seguro que desa aprovar y notificar al cliente de la cita con fecha : ${selectedCita.appointment_date}?`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handleClose,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: handleDelete,\n        children: \"Aprovar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_c = ModalApprovedCita;\n\nconst ModalDeleteUser = ({\n  show,\n  handleClose,\n  selectedUser,\n  setAlert,\n  setAlertMsg,\n  setAlertVariant\n}) => {\n  const handleAlert = (msg, variant) => {\n    setAlert(true);\n    setAlertMsg(msg);\n    setAlertVariant(variant);\n    setTimeout(() => {\n      setAlert(false);\n      setAlertMsg(\"\");\n      setAlertVariant(\"\");\n    }, 3000);\n    handleClose();\n  };\n\n  const checkResponse = res => {\n    console.log(res);\n\n    if (res[1].status === 400) {\n      handleAlert(res[0][\"message\"], \"danger\");\n    } else {\n      handleAlert(\"Usuario eliminado correctamente.\", \"success\");\n    }\n  };\n\n  const handleDelete = async () => {\n    const res = await APIUsers.deleteUser({\n      user: selectedUser\n    });\n    checkResponse(res);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Eliminar Usuario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: `¿Está seguro que desea eliminar el usuario: ${selectedUser.first_name} ${selectedUser.last_name}?`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handleClose,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: handleDelete,\n        children: \"Eliminar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ModalDeleteUser;\n\nconst ModalUpdateUser = ({\n  show,\n  handleClose,\n  selectedUser,\n  setAlert,\n  setAlertMsg,\n  setAlertVariant\n}) => {\n  _s();\n\n  const [formUser, setFormUser] = useState({\n    firstName: selectedUser.first_name,\n    lastName: selectedUser.last_name,\n    phone: selectedUser.phone,\n    status: selectedUser.status\n  });\n\n  const handleChange = e => {\n    setFormUser({ ...formUser,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleAlert = (msg, variant) => {\n    setAlert(true);\n    setAlertMsg(msg);\n    setAlertVariant(variant);\n    setTimeout(() => {\n      setAlert(false);\n      setAlertMsg(\"\");\n      setAlertVariant(\"\");\n    }, 3000);\n    handleClose();\n  };\n\n  const checkResponse = res => {\n    if (res[1].status === 400) {\n      handleAlert(res[0][\"message\"], \"danger\");\n    } else {\n      handleAlert(\"Usuario modificado correctamente.\", \"success\");\n    }\n  };\n\n  const updateUser = async () => {\n    const res = await APIUsers.updateUser({\n      id: selectedUser.user_id,\n      firstName: formUser.firstName,\n      lastName: formUser.lastName,\n      phone: formUser.phone,\n      status: formUser.status\n    });\n    checkResponse(res);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Editar Usuario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formNombre\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Nombre del Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            value: formUser.firstName,\n            onChange: handleChange,\n            name: \"firstName\",\n            type: \"text\",\n            placeholder: \"Nombre del Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formApellidos\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Apellidos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            value: formUser.lastName,\n            onChange: handleChange,\n            name: \"lastName\",\n            type: \"text\",\n            placeholder: \"Apellidos del Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formPhone\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"N\\xFAmero de tel\\xE9fono del Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            value: formUser.phone,\n            onChange: handleChange,\n            name: \"phone\",\n            type: \"text\",\n            placeholder: \"Tel\\xE9fono del Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formStatus\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Status del Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            value: formUser.status,\n            onChange: handleChange,\n            name: \"status\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              disabled: true,\n              value: -1,\n              children: [\"Status actual: \", selectedUser.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Administrador\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handleClose,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: updateUser,\n        children: \"Editar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModalUpdateUser, \"pQmmU4i/07HQMFnJwMEyobPufiI=\");\n\n_c3 = ModalUpdateUser;\nexport { ModalDeleteUser, ModalUpdateUser, ModalApprovedCita };\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ModalApprovedCita\");\n$RefreshReg$(_c2, \"ModalDeleteUser\");\n$RefreshReg$(_c3, \"ModalUpdateUser\");","map":{"version":3,"sources":["C:/Users/ederivc/Documents/PuppyVeterinarySystem/frontend/src/pages/AccountPage/Admin/Gestion/Citas/CitasUtilities.jsx"],"names":["APICitas","APIUsers","Alert","Button","Form","Modal","useState","ModalApprovedCita","show","handleClose","selectedCita","setAlert","setAlertMsg","setAlertVariant","handleAlert","msg","variant","setTimeout","checkResponse","res","console","log","status","handleDelete","ApproveCita","cita","appointment_date","ModalDeleteUser","selectedUser","deleteUser","user","first_name","last_name","ModalUpdateUser","formUser","setFormUser","firstName","lastName","phone","handleChange","e","target","name","value","updateUser","id","user_id"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,QAAnB,QAAmC,wBAAnC;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,IAAxB,EAA8BC,KAA9B,QAA2C,iBAA3C;AACA,SAASC,QAAT,QAAyB,OAAzB;;;AAEA,MAAMC,iBAAiB,GAAG,CAAC;AACzBC,EAAAA,IADyB;AAEzBC,EAAAA,WAFyB;AAGzBC,EAAAA,YAHyB;AAIzBC,EAAAA,QAJyB;AAKzBC,EAAAA,WALyB;AAMzBC,EAAAA;AANyB,CAAD,KAOpB;AACJ,QAAMC,WAAW,GAAG,CAACC,GAAD,EAAMC,OAAN,KAAkB;AACpCL,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAC,IAAAA,WAAW,CAACG,GAAD,CAAX;AACAF,IAAAA,eAAe,CAACG,OAAD,CAAf;AACAC,IAAAA,UAAU,CAAC,MAAM;AACfN,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACAC,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAC,MAAAA,eAAe,CAAC,EAAD,CAAf;AACD,KAJS,EAIP,IAJO,CAAV;AAKAJ,IAAAA,WAAW;AACZ,GAVD;;AAYA,QAAMS,aAAa,GAAIC,GAAD,IAAS;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,QAAIA,GAAG,CAAC,CAAD,CAAH,CAAOG,MAAP,KAAkB,GAAtB,EAA2B;AACzBR,MAAAA,WAAW,CAACK,GAAG,CAAC,CAAD,CAAH,CAAO,SAAP,CAAD,EAAoB,QAApB,CAAX;AACD,KAFD,MAEO;AACLL,MAAAA,WAAW,CAAC,gDAAD,EAAmD,SAAnD,CAAX;AACD;AACF,GAPD;;AASA,QAAMS,YAAY,GAAG,YAAY;AAC/B,UAAMJ,GAAG,GAAG,MAAMnB,QAAQ,CAACwB,WAAT,CAAqB;AACrCC,MAAAA,IAAI,EAAEf;AAD+B,KAArB,CAAlB;AAGAQ,IAAAA,aAAa,CAACC,GAAD,CAAb;AACD,GALD;;AAOA,sBACE,QAAC,KAAD;AAAO,IAAA,IAAI,EAAEX,IAAb;AAAmB,IAAA,MAAM,EAAEC,WAA3B;AAAA,4BACE,QAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA,6BACE,QAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE,QAAC,KAAD,CAAO,IAAP;AAAA,gBAAc,+EAA8EC,YAAY,CAACgB,gBAAiB;AAA1H;AAAA;AAAA;AAAA;AAAA,YAJF,eAKE,QAAC,KAAD,CAAO,MAAP;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAEjB,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,SAAhB;AAA0B,QAAA,OAAO,EAAEc,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD,CApDD;;KAAMhB,iB;;AAsDN,MAAMoB,eAAe,GAAG,CAAC;AACvBnB,EAAAA,IADuB;AAEvBC,EAAAA,WAFuB;AAGvBmB,EAAAA,YAHuB;AAIvBjB,EAAAA,QAJuB;AAKvBC,EAAAA,WALuB;AAMvBC,EAAAA;AANuB,CAAD,KAOlB;AACJ,QAAMC,WAAW,GAAG,CAACC,GAAD,EAAMC,OAAN,KAAkB;AACpCL,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAC,IAAAA,WAAW,CAACG,GAAD,CAAX;AACAF,IAAAA,eAAe,CAACG,OAAD,CAAf;AACAC,IAAAA,UAAU,CAAC,MAAM;AACfN,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACAC,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAC,MAAAA,eAAe,CAAC,EAAD,CAAf;AACD,KAJS,EAIP,IAJO,CAAV;AAKAJ,IAAAA,WAAW;AACZ,GAVD;;AAYA,QAAMS,aAAa,GAAIC,GAAD,IAAS;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,QAAIA,GAAG,CAAC,CAAD,CAAH,CAAOG,MAAP,KAAkB,GAAtB,EAA2B;AACzBR,MAAAA,WAAW,CAACK,GAAG,CAAC,CAAD,CAAH,CAAO,SAAP,CAAD,EAAoB,QAApB,CAAX;AACD,KAFD,MAEO;AACLL,MAAAA,WAAW,CAAC,kCAAD,EAAqC,SAArC,CAAX;AACD;AACF,GAPD;;AASA,QAAMS,YAAY,GAAG,YAAY;AAC/B,UAAMJ,GAAG,GAAG,MAAMlB,QAAQ,CAAC4B,UAAT,CAAoB;AACpCC,MAAAA,IAAI,EAAEF;AAD8B,KAApB,CAAlB;AAGAV,IAAAA,aAAa,CAACC,GAAD,CAAb;AACD,GALD;;AAOA,sBACE,QAAC,KAAD;AAAO,IAAA,IAAI,EAAEX,IAAb;AAAmB,IAAA,MAAM,EAAEC,WAA3B;AAAA,4BACE,QAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA,6BACE,QAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE,QAAC,KAAD,CAAO,IAAP;AAAA,gBAAc,+CAA8CmB,YAAY,CAACG,UAAW,IAAGH,YAAY,CAACI,SAAU;AAA9G;AAAA;AAAA;AAAA;AAAA,YAJF,eAKE,QAAC,KAAD,CAAO,MAAP;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAEvB,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,SAAhB;AAA0B,QAAA,OAAO,EAAEc,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD,CApDD;;MAAMI,e;;AAsDN,MAAMM,eAAe,GAAG,CAAC;AACvBzB,EAAAA,IADuB;AAEvBC,EAAAA,WAFuB;AAGvBmB,EAAAA,YAHuB;AAIvBjB,EAAAA,QAJuB;AAKvBC,EAAAA,WALuB;AAMvBC,EAAAA;AANuB,CAAD,KAOlB;AAAA;;AACJ,QAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0B7B,QAAQ,CAAC;AACvC8B,IAAAA,SAAS,EAAER,YAAY,CAACG,UADe;AAEvCM,IAAAA,QAAQ,EAAET,YAAY,CAACI,SAFgB;AAGvCM,IAAAA,KAAK,EAAEV,YAAY,CAACU,KAHmB;AAIvChB,IAAAA,MAAM,EAAEM,YAAY,CAACN;AAJkB,GAAD,CAAxC;;AAOA,QAAMiB,YAAY,GAAIC,CAAD,IAAO;AAC1BL,IAAAA,WAAW,CAAC,EACV,GAAGD,QADO;AAEV,OAACM,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFhB,KAAD,CAAX;AAID,GALD;;AAOA,QAAM7B,WAAW,GAAG,CAACC,GAAD,EAAMC,OAAN,KAAkB;AACpCL,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAC,IAAAA,WAAW,CAACG,GAAD,CAAX;AACAF,IAAAA,eAAe,CAACG,OAAD,CAAf;AACAC,IAAAA,UAAU,CAAC,MAAM;AACfN,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACAC,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAC,MAAAA,eAAe,CAAC,EAAD,CAAf;AACD,KAJS,EAIP,IAJO,CAAV;AAKAJ,IAAAA,WAAW;AACZ,GAVD;;AAYA,QAAMS,aAAa,GAAIC,GAAD,IAAS;AAC7B,QAAIA,GAAG,CAAC,CAAD,CAAH,CAAOG,MAAP,KAAkB,GAAtB,EAA2B;AACzBR,MAAAA,WAAW,CAACK,GAAG,CAAC,CAAD,CAAH,CAAO,SAAP,CAAD,EAAoB,QAApB,CAAX;AACD,KAFD,MAEO;AACLL,MAAAA,WAAW,CAAC,mCAAD,EAAsC,SAAtC,CAAX;AACD;AACF,GAND;;AAQA,QAAM8B,UAAU,GAAG,YAAY;AAC7B,UAAMzB,GAAG,GAAG,MAAMlB,QAAQ,CAAC2C,UAAT,CAAoB;AACpCC,MAAAA,EAAE,EAAEjB,YAAY,CAACkB,OADmB;AAEpCV,MAAAA,SAAS,EAAEF,QAAQ,CAACE,SAFgB;AAGpCC,MAAAA,QAAQ,EAAEH,QAAQ,CAACG,QAHiB;AAIpCC,MAAAA,KAAK,EAAEJ,QAAQ,CAACI,KAJoB;AAKpChB,MAAAA,MAAM,EAAEY,QAAQ,CAACZ;AALmB,KAApB,CAAlB;AAOAJ,IAAAA,aAAa,CAACC,GAAD,CAAb;AACD,GATD;;AAWA,sBACE,QAAC,KAAD;AAAO,IAAA,IAAI,EAAEX,IAAb;AAAmB,IAAA,MAAM,EAAEC,WAA3B;AAAA,4BACE,QAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA,6BACE,QAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE,QAAC,KAAD,CAAO,IAAP;AAAA,6BACE,QAAC,IAAD;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAA6B,UAAA,SAAS,EAAC,YAAvC;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,YAAA,KAAK,EAAEyB,QAAQ,CAACE,SADlB;AAEE,YAAA,QAAQ,EAAEG,YAFZ;AAGE,YAAA,IAAI,EAAC,WAHP;AAIE,YAAA,IAAI,EAAC,MAJP;AAKE,YAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAA6B,UAAA,SAAS,EAAC,eAAvC;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,YAAA,KAAK,EAAEL,QAAQ,CAACG,QADlB;AAEE,YAAA,QAAQ,EAAEE,YAFZ;AAGE,YAAA,IAAI,EAAC,UAHP;AAIE,YAAA,IAAI,EAAC,MAJP;AAKE,YAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,eAqBE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAA6B,UAAA,SAAS,EAAC,WAAvC;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,YAAA,KAAK,EAAEL,QAAQ,CAACI,KADlB;AAEE,YAAA,QAAQ,EAAEC,YAFZ;AAGE,YAAA,IAAI,EAAC,OAHP;AAIE,YAAA,IAAI,EAAC,MAJP;AAKE,YAAA,WAAW,EAAC;AALd;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBArBF,eA+BE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAA6B,UAAA,SAAS,EAAC,YAAvC;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,YAAA,EAAE,EAAC,QADL;AAEE,YAAA,KAAK,EAAEL,QAAQ,CAACZ,MAFlB;AAGE,YAAA,QAAQ,EAAEiB,YAHZ;AAIE,YAAA,IAAI,EAAC,QAJP;AAAA,oCAME;AAAQ,cAAA,QAAQ,MAAhB;AAAiB,cAAA,KAAK,EAAE,CAAC,CAAzB;AAAA,4CACkBX,YAAY,CAACN,MAD/B;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA/BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAJF,eAqDE,QAAC,KAAD,CAAO,MAAP;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,OAAO,EAAEb,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,SAAhB;AAA0B,QAAA,OAAO,EAAEmC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YArDF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgED,CArHD;;GAAMX,e;;MAAAA,e;AAuHN,SAASN,eAAT,EAA0BM,eAA1B,EAA2C1B,iBAA3C","sourcesContent":["import { APICitas, APIUsers } from \"../../../../../api/api\";\r\nimport { Alert, Button, Form, Modal } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\n\r\nconst ModalApprovedCita = ({\r\n  show,\r\n  handleClose,\r\n  selectedCita,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    console.log(res);\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Notificación al usuario hecha y cita aprovada.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const res = await APICitas.ApproveCita({\r\n      cita: selectedCita,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Aprovar Cita</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>{`¿Está seguro que desa aprovar y notificar al cliente de la cita con fecha : ${selectedCita.appointment_date}?`}</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleDelete}>\r\n          Aprovar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst ModalDeleteUser = ({\r\n  show,\r\n  handleClose,\r\n  selectedUser,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    console.log(res);\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Usuario eliminado correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const res = await APIUsers.deleteUser({\r\n      user: selectedUser,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Eliminar Usuario</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>{`¿Está seguro que desea eliminar el usuario: ${selectedUser.first_name} ${selectedUser.last_name}?`}</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleDelete}>\r\n          Eliminar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst ModalUpdateUser = ({\r\n  show,\r\n  handleClose,\r\n  selectedUser,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const [formUser, setFormUser] = useState({\r\n    firstName: selectedUser.first_name,\r\n    lastName: selectedUser.last_name,\r\n    phone: selectedUser.phone,\r\n    status: selectedUser.status,\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormUser({\r\n      ...formUser,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Usuario modificado correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const updateUser = async () => {\r\n    const res = await APIUsers.updateUser({\r\n      id: selectedUser.user_id,\r\n      firstName: formUser.firstName,\r\n      lastName: formUser.lastName,\r\n      phone: formUser.phone,\r\n      status: formUser.status,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Editar Usuario</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group className=\"mb-3\" controlId=\"formNombre\">\r\n            <Form.Label>Nombre del Usuario</Form.Label>\r\n            <Form.Control\r\n              value={formUser.firstName}\r\n              onChange={handleChange}\r\n              name=\"firstName\"\r\n              type=\"text\"\r\n              placeholder=\"Nombre del Usuario\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formApellidos\">\r\n            <Form.Label>Apellidos</Form.Label>\r\n            <Form.Control\r\n              value={formUser.lastName}\r\n              onChange={handleChange}\r\n              name=\"lastName\"\r\n              type=\"text\"\r\n              placeholder=\"Apellidos del Usuario\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formPhone\">\r\n            <Form.Label>Número de teléfono del Usuario</Form.Label>\r\n            <Form.Control\r\n              value={formUser.phone}\r\n              onChange={handleChange}\r\n              name=\"phone\"\r\n              type=\"text\"\r\n              placeholder=\"Teléfono del Usuario\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formStatus\">\r\n            <Form.Label>Status del Usuario</Form.Label>\r\n            <Form.Control\r\n              as=\"select\"\r\n              value={formUser.status}\r\n              onChange={handleChange}\r\n              name=\"status\"\r\n            >\r\n              <option disabled value={-1}>\r\n                Status actual: {selectedUser.status}\r\n              </option>\r\n              <option>Cliente</option>\r\n              <option>Administrador</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={updateUser}>\r\n          Editar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport { ModalDeleteUser, ModalUpdateUser, ModalApprovedCita };\r\n"]},"metadata":{},"sourceType":"module"}